256 characters I used to see effect of Stream.setTimeout()

0123456789ABCDEF 123456789ABCDEF  23456789ABCDEF   3456789ABCDEF    456789ABCDEF     56789ABCDEF      6789ABCDEF       789ABCDEF        89ABCDEF         9ABCDEF          ABCDEF           BCDEF            CDEF             DEF              EF               F

Correct output of GetEntity() with entity size 8 is

(01234567)
(12345678)
(23456789)
(3456789A)
(456789AB)
(56789ABC)
(6789ABCD)
(789ABCDE)
(89ABCDEF)
(9ABCDEF)
(ABCDEF)
(BCDEF)
(CDEF)
(DEF)
(EF)
(F)

That was for setTimeout(1 .. 10). 20 ms are bad.

Theoretically

  57600 baud == 5760 bytes/s ~= 174 us / byte

  64 bytes == 11+ ms

That explains data starving at setTimeout(0) and data loss at
setTimeout(20).

So despite input buffer size of 64 bytes, code can handle longer
packets. Additional conditions apply.

-- Martin, 2024-05-13
